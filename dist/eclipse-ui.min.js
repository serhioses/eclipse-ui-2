!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("eclipse"),require("jquery"));else if("function"==typeof define&&define.amd)define(["eclipse","jquery"],t);else{var n="object"==typeof exports?t(require("eclipse"),require("jquery")):t(e.eclipse,e.jQuery);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t,n,r=(0,b.default)(e.target),u=r.closest("[data-eui-bundle]");if(u.length){for(n=0;n<v.default.storage.bundles.length;n+=1)if(v.default.storage.bundles[n]._id===u.data("eui-bundle-id")){t=v.default.storage.bundles[n];break}return t}}function l(e,t){this.trigger[t+"Class"](_),this.container[t+"Class"](O),this._defaults.overflowBody&&g[t+"Class"]("eui-body--hidden"),this.overlay&&this.overlay[t+"Class"](j),e.callback(this,t)}function s(e){v.default.storage.bundles.forEach(function(t){var n=t._defaults;t._id!==e&&t.trigger.filter("."+_).length&&t.trigger.data("eui-other-bundles")&&l.call(t,n,"remove")})}function f(){g.on("click",function(e){var t,n,r=i(e);r&&(t=(0,b.default)(e.target).closest("[data-eui-bundle]"),(n=t.data("eui-bundle-action"))&&(r._defaults.shouldPreventDefault&&e.preventDefault(),s(r._id),l.call(r,r._defaults,"toggle"===n?"toggle":"remove")))})}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(4),p=r(d),h=n(3),b=r(h),y=n(0),v=r(y),g=(0,b.default)("body"),_="eui-bundle-trigger--active",O="eui-bundle-container--active",j="eui-bundle-overlay--visible",m=!1,w=function(e){function t(e,n,r){u(this,t);var a=Object.create(null),i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.container=null,a.overlay=null,a.overflowBody=!0,a.shouldPreventDefault=!0,a.hideOnClickOutside=!0,a.callback=b.default.noop,"Object"===v.default.helpers.getClass(r)&&b.default.extend(!0,a,r),Object.defineProperty(i,"_defaults",{get:function(){return a}}),i.trigger=e,i.close=n,i.overlay=a.overlay,i.container=a.container,i._id=i.trigger.first().data("eui-bundle-id"),i}return a(t,e),c(t,[{key:"init",value:function(){v.default.storage.bundles.push(this),m||(m=!0,f())}},{key:"reinit",value:function(e){var t=this;v.default.storage.bundles=v.default.storage.bundles.filter(function(e){return e===t}),"Object"===v.default.helpers.getClass(e)&&b.default.extend(!0,this._defaults,e),v.default.storage.bundles.push(this)}}],[{key:"hideOnClickOutside",value:function(){function e(e){"touchstart"===e.type&&(t=!0),t&&"click"===e.type||v.default.storage.bundles.forEach(function(e){e.trigger.filter("."+_).length&&e._defaults.hideOnClickOutside&&l.call(e,e._defaults,"remove")})}var t;g.on("touchstart click",e)}}]),t}(p.default);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var u=n(0),o=r(u),a=n(1),i=r(a),l=n(5),s=r(l);o.default.utils.namespace("UI"),o.default.UI.Bundle=i.default,o.default.UI.Search=s.default},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function e(){r(this,e)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t,n,r=(0,p.default)(e.target),u=r.closest("[data-eui-search]");if(u.length){for(n=0;n<b.default.storage.searches.length;n+=1)if(b.default.storage.searches[n].container[0]===u[0]){t=b.default.storage.searches[n];break}return t}}function l(){v.on("input",function(e){var t,n=i(e);n&&(t=RegExp("("+n.field.val()+")","gi"),n.boxes.each(function(){var e=(0,p.default)(this);e.html(e.html().replace(y,"")),-1!==e.text().search(t)?(e.html(e.html().replace(t,'<span class="s-eui-match">$1</span>')),e.addClass("s-eui-match--visible").removeClass("s-eui-match--invisible")):e.addClass("s-eui-match--invisible").removeClass("s-eui-match--visible")}),n._defaults.invokeCallback&&n._defaults.onInput())})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(4),c=r(f),d=n(3),p=r(d),h=n(0),b=r(h),y=/<\/?\w[1-6]?\w*\s*.*?>/g,v=(0,p.default)("body"),g=!1,_=function(e){function t(e,n){u(this,t);var r=Object.create(null),a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.shouldPreventDefault=!0,r.invokeCallback=!1,r.onInput=p.default.noop,"Object"===b.default.helpers.getClass(n)&&p.default.extend(!0,r,n),Object.defineProperty(a,"_defaults",{get:function(){return r}}),a.container=e,a.field=a.container.find(".s-eui-field"),a.boxes=a.container.find('[data-eui-q="true"]'),a}return a(t,e),s(t,[{key:"init",value:function(){b.default.storage.searches.push(this),g||(g=!0,l())}},{key:"reinit",value:function(e){var t=this;b.default.storage.searches=b.default.storage.searches.filter(function(e){return e===t}),"Object"===b.default.helpers.getClass(e)&&p.default.extend(!0,this._defaults,e),b.default.storage.searches.push(this)}}]),t}(c.default);t.default=_}])});